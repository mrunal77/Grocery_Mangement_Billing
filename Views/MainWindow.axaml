<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:GroceryStore.ViewModels"
        xmlns:views="using:GroceryStore.Views"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1280" d:DesignHeight="800"
        x:Class="GroceryStore.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="{Binding StoreName}"
        Width="1280" Height="800"
        MinWidth="1024" MinHeight="768"
        WindowStartupLocation="CenterScreen"
        ExtendClientAreaToDecorationsHint="True">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Window.Styles>
        <Style Selector="Button.navButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="20,14"/>
            <Setter Property="CornerRadius" Value="0"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Opacity" Value="0.85"/>
        </Style>
        <Style Selector="Button.navButton:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#388E3C"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>
        <Style Selector="Button.navButton:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="#1B5E20"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>
        
        <Style Selector="Button.navButton PathIcon">
            <Setter Property="Width" Value="20"/>
            <Setter Property="Height" Value="20"/>
        </Style>
    </Window.Styles>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="#1B5E20" BoxShadow="4 0 12 0 #30000000">
            <DockPanel>
                <Border DockPanel.Dock="Top" Padding="24,28,24,24">
                    <StackPanel>
                        <Border Background="#2E7D32" CornerRadius="12" Padding="12" HorizontalAlignment="Left" Margin="0,0,0,12">
                            <PathIcon Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" Foreground="White" Width="24" Height="24"/>
                        </Border>
                        <TextBlock Text="{Binding StoreName}"
                                   FontSize="20" FontWeight="Bold"
                                   Foreground="White"/>
                        <TextBlock Text="Grocery Management"
                                   FontSize="12"
                                   Foreground="#A5D6A7" Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <ScrollViewer>
                    <StackPanel Margin="12,8,12,12">
                        <TextBlock Text="MAIN MENU" FontSize="11" FontWeight="SemiBold" Foreground="#81C784" Margin="20,8,0,12" LetterSpacing="1"/>

                        <Button Classes="navButton" Command="{Binding NavigateToDashboardCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" Foreground="White"/>
                                <TextBlock Text="Dashboard" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Classes="navButton" Command="{Binding NavigateToProductsCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M20 2H4c-1 0-2 1-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z" Foreground="White"/>
                                <TextBlock Text="Products" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Classes="navButton" Command="{Binding NavigateToCategoriesCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" Foreground="White"/>
                                <TextBlock Text="Categories" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Classes="navButton" Command="{Binding NavigateToBillingCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h2v8zm-2-10V5h2v2h-2z" Foreground="White"/>
                                <TextBlock Text="Billing / POS" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Classes="navButton" Command="{Binding NavigateToReportsCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" Foreground="White"/>
                                <TextBlock Text="Reports" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <TextBlock Text="SETTINGS" FontSize="11" FontWeight="SemiBold" Foreground="#81C784" Margin="20,24,0,12" LetterSpacing="1"/>

                        <Button Classes="navButton" Command="{Binding NavigateToSettingsCommand}">
                            <StackPanel Orientation="Horizontal" Spacing="16">
                                <PathIcon Data="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" Foreground="White"/>
                                <TextBlock Text="Settings" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </ScrollViewer>

                <Border DockPanel.Dock="Bottom" Padding="20,16" BorderBrush="#2E7D32" BorderThickness="0,1,0,0">
                    <TextBlock Text="{Binding CurrentDateTime}" FontSize="11" Foreground="#81C784" HorizontalAlignment="Center"/>
                </Border>
            </DockPanel>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Column="1" Background="#F5F5F5">
            <Grid.RowDefinitions>
                <RowDefinition Height="70"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" BoxShadow="0 2 8 0 #10000000">
                <DockPanel Margin="32,0">
                    <StackPanel DockPanel.Dock="Left" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="{Binding CurrentViewTitle}"
                                   FontSize="24" FontWeight="SemiBold"
                                   Foreground="#212121"/>
                    </StackPanel>
                    
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center" Spacing="16">
                        <Border Background="#E8F5E9" CornerRadius="20" Padding="12,6">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <PathIcon Data="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" Foreground="#2E7D32" Width="16" Height="16" VerticalAlignment="Center"/>
                                <TextBlock Text="Admin" FontSize="13" Foreground="#2E7D32" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </DockPanel>
            </Border>

            <ContentControl Grid.Row="1" Content="{Binding CurrentViewModel}" Margin="0">
                <ContentControl.DataTemplates>
                    <DataTemplate DataType="vm:DashboardViewModel">
                        <views:DashboardView/>
                    </DataTemplate>
                    <DataTemplate DataType="vm:ProductsViewModel">
                        <views:ProductsView/>
                    </DataTemplate>
                    <DataTemplate DataType="vm:CategoriesViewModel">
                        <views:CategoriesView/>
                    </DataTemplate>
                    <DataTemplate DataType="vm:BillingViewModel">
                        <views:BillingView/>
                    </DataTemplate>
                    <DataTemplate DataType="vm:ReportsViewModel">
                        <views:ReportsView/>
                    </DataTemplate>
                    <DataTemplate DataType="vm:SettingsViewModel">
                        <views:SettingsView/>
                    </DataTemplate>
                </ContentControl.DataTemplates>
            </ContentControl>
        </Grid>
    </Grid>
</Window>
